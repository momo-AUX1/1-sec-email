import{d as b,u as M,r as N,o as V,c as h,w as s,a,b as $,e as d,f as n,I as C,g as S,h as j,i as P,j as T,k as L,p as z,l as A,m as o,n as _,t as u,q as g,s as D,v as f,F as E,x as F,y as I,z as R,A as q,B as H,_ as U}from"./index-51e5354d.js";const G=i=>(q("data-v-27e4c632"),i=i(),H(),i),J={class:"date"},K={class:"ion-padding"},O={key:0,class:"attachments"},Q=G(()=>o("h3",null,"Attachments:",-1)),W=["href"],X=b({__name:"ViewMessagePage",setup(i){const v=()=>{const l=window;return(l&&l.Ionic&&l.Ionic.mode)==="ios"?"Inbox":""},p=M(),w=parseInt(p.params.id,10),x=p.params.username,y=p.params.domain,e=N(null),B=async(l,r,t)=>{try{const c=(await $.get("https://www.1secmail.com/api/v1/?action=readMessage&login=".concat(r,"&domain=").concat(t,"&id=").concat(l))).data;e.value={id:c.id,fromName:c.from,subject:c.subject,date:c.date,content:c.textBody||c.htmlBody||"No content",attachments:c.attachments||[],username:r,domain:t}}catch(m){console.error("Error fetching the message:",m)}},k=(l,r,t,m)=>"https://www.1secmail.com/api/v1/?action=download&login=".concat(r,"&domain=").concat(t,"&id=").concat(l,"&file=").concat(encodeURIComponent(m));return V(()=>{B(w,x,y)}),(l,r)=>(d(),h(a(R),null,{default:s(()=>[n(a(P),{translucent:!0},{default:s(()=>[n(a(C),null,{default:s(()=>[n(a(S),{slot:"start"},{default:s(()=>[n(a(j),{text:v(),"default-href":"/"},null,8,["text"])]),_:1})]),_:1})]),_:1}),e.value?(d(),h(a(T),{key:0,fullscreen:!0},{default:s(()=>[n(a(D),null,{default:s(()=>[n(a(L),{"aria-hidden":"true",icon:a(z),color:"primary"},null,8,["icon"]),n(a(A),{class:"ion-text-wrap"},{default:s(()=>[o("h2",null,[_(u(e.value.fromName)+" ",1),o("span",J,[n(a(g),null,{default:s(()=>[_(u(e.value.date),1)]),_:1})])]),o("h3",null,[_("To: "),n(a(g),null,{default:s(()=>[_("Me")]),_:1})])]),_:1})]),_:1}),o("div",K,[o("h1",null,u(e.value.subject),1),o("p",null,u(e.value.content),1),e.value.attachments&&e.value.attachments.length?(d(),f("div",O,[Q,o("ul",null,[(d(!0),f(E,null,F(e.value.attachments,t=>(d(),f("li",{key:t.filename},[o("a",{href:k(e.value.id,e.value.username,e.value.domain,t.filename)},u(t.filename)+" ("+u(t.size)+" bytes) ",9,W)]))),128))])])):I("",!0)])]),_:1})):I("",!0)]),_:1}))}});const Z=U(X,[["__scopeId","data-v-27e4c632"]]);export{Z as default};
